(this["webpackJsonp2048-react"]=this["webpackJsonp2048-react"]||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(31),i=n.n(r),s=(n(46),n(7)),o=n(69),d=n(73),u=n(70),l=(n(47),n(16)),b=n(25),j=n(18),f=n(32),h=n(66),O=n(71),x=n(33),p=n.n(x),m=n(2),v=Object(h.a)({box:{display:"flex",position:"absolute",justifyContent:"center",alignItems:"center",width:"calc(25% - 16px)",height:"calc(25% - 16px)",margin:"8px",borderRadius:"16px",transition:"all 100ms linear"}}),g=function(e){return e.toString().concat("%")},y=function(e){var t=v(),n=e.items,a=e.id,r=e.dead,i=e.deadItems,o=e.setDeadItems;Object(c.useEffect)((function(){r&&setTimeout((function(){delete i[a],o(i)}),100)}));var d=Object(s.a)(n[a],3),u=d[0],l=d[1],b=d[2],j=g(25*u),f=g(25*l);return Object(m.jsx)(O.a,{bgcolor:"white",className:p()(t.box,t.fadeIn),style:{top:f,left:j},children:Object(m.jsxs)("h1",{children:[" ",b," "]})})},w=function(e){return Math.floor(Math.random()*e)},I=function e(t,n){return t===n||t instanceof Array&&n instanceof Array&&t.length===n.length&&t.every((function(t,c){return e(t,n[c])}))},k=37,S=38,C=39,D=40,T=n(38),M=n(68),R=Object(T.a)({palette:{primary:{main:"#fff3e0",contrastText:"#6d4c41"},secondary:{main:"#9e9e9e",contrastText:"#000"},background:{default:"#fff3e0"}}});function A(e){return Object(m.jsx)(M.a,{theme:R,children:e.children})}var E=Object(h.a)({box:{display:"flex",position:"absolute",justifyContent:"center",alignItems:"center",width:"calc(25% - 16px)",height:"calc(25% - 16px)",margin:"8px",borderRadius:"16px"}}),F=function(e){return e.toString().concat("%")},B=function(e){var t=E(),n=e.x,c=e.y,a=F(25*n),r=F(25*c);return Object(m.jsx)(O.a,{bgcolor:"darkgrey",className:t.box,style:{top:r,left:a}})},N=Object(h.a)({box:{width:"100%",maxWidth:"80vh",paddingBottom:"min(100%, 80vh)",margin:"50px 10px 10px 10px",position:"relative",border:"8px solid ".concat(R.palette.secondary.main),background:R.palette.secondary.main,borderRadius:"16px"}}),J=function(e,t){var n,c=Object(f.a)(t);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(e[0]===a[0]&&e[1]===a[1])return!0}}catch(r){c.e(r)}finally{c.f()}return!1},L=function(e,t){var n;do{n=[w(4),w(4)]}while(J(n,Object.values(e)));t(Object(j.a)(Object(j.a)({},e),{},Object(l.a)({},w(1e6),[].concat(Object(b.a)(n),[Math.random()<.9?2:4]))))},P=function(e,t,n,c,a,r,i){for(var o=[[],[],[],[]],d=["left","right"].includes(e)?0:1,u=0,b=Object.entries(t);u<b.length;u++){var f=Object(s.a)(b[u],2),h=f[0],O=f[1];o[O[1-d]].push([h,O])}for(var x={},p=0;p<o.length;p++){var m=o[p];m.sort((function(e,t){return e[1][d]-t[1][d]}));for(var v=1;v<m.length;v++)m[v][1][2]===m[v-1][1][2]&&(m[v][1][2]=2*m[v][1][2],a(c+m[v][1][2]),i(Object(j.a)(Object(j.a)({},r),{},Object(l.a)({},m[v-1][0],m[v-1][1]))),m.splice(v-1,1));["right","down"].includes(e)&&m.reverse();for(var g=0;g<m.length;g++){var y=Object(s.a)(m[g],2),w=y[0],k=y[1],S=["right","down"].includes(e)?3-g:g;x[w]=[],x[w][1-d]=p,x[w][d]=S,x[w][2]=k[2]}}n(x),I(Object.values(x),Object.values(t))||setTimeout((function(){L(x,n)}),1)},K=function(e){var t,n=N(),c=e.items,a=e.deadItems,r=e.setDeadItems;return Object(m.jsx)("div",{style:{width:"100%",height:"100%"},children:Object(m.jsxs)("div",{className:n.box,onAnimationEnd:L,children:[(t=16,Object(b.a)(Array(t).keys())).map((function(e){return Object(m.jsx)(B,{x:e%4,y:Math.floor(e/4)},e)})),Object.keys(a).map((function(e){return Object(m.jsx)(y,{items:a,id:e,dead:!0,deadItems:a,setDeadItems:r},e)})),Object.keys(c).map((function(e){return Object(m.jsx)(y,{items:c,id:e,dead:!1},e)}))]})})};var W=function(){var e=Object(c.useState)(0),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(function(){for(var e={},t=function(t){return e=t},n=0;n<2;n++)L(e,t);return e}()),i=Object(s.a)(r,2),l=i[0],b=i[1],j=Object(c.useState)({}),f=Object(s.a)(j,2),h=f[0],O=f[1],x=Object(c.useRef)();return Object(c.useEffect)((function(){x.current.focus()})),Object(m.jsx)("div",{ref:x,onKeyDown:function(e){var t=[l,b,n,a,h,O];switch(e.keyCode){case k:P.apply(void 0,["left"].concat(t));break;case S:P.apply(void 0,["up"].concat(t));break;case C:P.apply(void 0,["right"].concat(t));break;case D:P.apply(void 0,["down"].concat(t))}},tabIndex:-1,style:{height:"100vh"},children:Object(m.jsxs)(A,{children:[Object(m.jsx)(o.a,{}),Object(m.jsxs)(d.a,{position:"static",bgcolor:"#6d4c41",children:[Object(m.jsx)("h1",{style:{padding:"12px"},children:"2048-React"}),Object(m.jsxs)("h1",{style:{padding:"12px",position:"absolute",right:"0"},children:["Score ",n]})]}),Object(m.jsxs)(u.a,{container:!0,children:[Object(m.jsx)(u.a,{item:!0,sm:2}),Object(m.jsx)(u.a,{container:!0,item:!0,justify:"center",sm:8,style:{width:"100%"},children:Object(m.jsx)(K,{items:l,deadItems:h,setDeadItems:O})}),Object(m.jsx)(u.a,{item:!0,sm:2})]})]})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(W,{})}),document.getElementById("root")),q()}},[[53,1,2]]]);
//# sourceMappingURL=main.8082a987.chunk.js.map